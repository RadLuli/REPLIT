# AI-Powered Photography Assessment System - Flowchart

## 1. Authentication Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  App Start  │────►│ Login Page  │────►│Google OAuth │────►│ Auth Result │
└─────────────┘     └─────────────┘     │  Redirect   │     └──────┬──────┘
                          ▲             └─────────────┘            │
                          │                                        │
                          │                                        ▼
┌─────────────┐     ┌─────────────┐                         ┌─────────────┐
│  Sign Out   │◄────┤ Session End │◄────────────────────────┤ User Profile│
└─────────────┘     └─────────────┘                         │  Creation   │
                                                           └─────────────┘
```

## 2. Image Analysis Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Upload Image │────►│Format Check │────►│Image PreProc│────►│Feature Extr.│
└─────────────┘     └─────────────┘     └─────────────┘     └──────┬──────┘
                                                                   │
                                                                   │
                                                                   ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Results View │◄────┤ Translation │◄────┤Rating Gener.│◄────┤Tech Analysis│
└──────┬──────┘     └─────────────┘     └─────────────┘     └─────────────┘
       │
       │
       ▼
┌─────────────┐     ┌─────────────┐
│ DB Storage  │────►│History Updt │
└─────────────┘     └─────────────┘
```

## 3. Enhancement Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Select Image │────►│ Show Options│────►│Parameter Sel│────►│Apply Enhanc.│
└─────────────┘     └─────────────┘     └─────────────┘     └──────┬──────┘
                                                                   │
                                                                   │
                                                                   ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│ Save/Export │◄────┤ Final Apply │◄────┤ User Adjust │◄────┤Preview Img  │
└─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘
```

## 4. Future RAG Integration Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Upload Docs  │────►│Process Docs │────►│Extract Text │────►│Create Embeds│
└─────────────┘     └─────────────┘     └─────────────┘     └──────┬──────┘
                                                                   │
                                                                   │
                                                                   ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Display Resp.│◄────┤Generate Resp│◄────┤Create Prompt│◄────┤Vector Search│
└─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘
```

## 5. Data Storage Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│User Data    │────►│ DB Check    │────►│PostgreSQL DB│
└─────────────┘     └──────┬──────┘     └─────────────┘
                          │
                          │ (If PostgreSQL unavailable)
                          ▼
                    ┌─────────────┐     ┌─────────────┐
                    │Fallback to  │────►│JSON Storage │
                    │JSON Storage │     └─────────────┘
                    └─────────────┘
```

## 6. Full System Architecture

```
┌───────────────────────────────────────────────────────────────────────┐
│                         Client Browser                                 │
└─────────────────────────────────┬─────────────────────────────────────┘
                                  │
                                  ▼
┌───────────────────────────────────────────────────────────────────────┐
│                         Streamlit Interface                            │
└─────────────────────────────────┬─────────────────────────────────────┘
                                  │
         ┌─────────────┬──────────┴───────────┬─────────────┐
         │             │                      │             │
         ▼             ▼                      ▼             ▼
┌─────────────┐ ┌─────────────┐      ┌─────────────┐ ┌─────────────┐
│Auth Module  │ │ Image Proc. │      │Enhancement  │ │Photo Tips   │
└──────┬──────┘ └──────┬──────┘      └──────┬──────┘ └──────┬──────┘
       │               │                    │               │
       └───────────────┴────────┬──────────┴───────────────┘
                                │
                                ▼
┌───────────────────────────────────────────────────────────────────────┐
│                         Data Storage Layer                             │
└───────────────────────────────────────────────────────────────────────┘
```

## 7. Session Management Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│New Session  │────►│Check Auth   │────►│Create State │
└─────────────┘     └─────────────┘     └──────┬──────┘
                                               │
                                               │
                                               ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Session End  │◄────┤Logout Event │◄────┤Active Session│
└─────────────┘     └─────────────┘     └─────────────┘
```

## 8. Image Data Processing Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Upload Image │────►│Image Load   │────►│Resize Image │
└─────────────┘     └─────────────┘     └──────┬──────┘
                                               │
                                               │
                                               ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Store Results│◄────┤Generate     │◄────┤Process/Anal.│
└─────────────┘     │Thumbnails   │     └─────────────┘
                    └─────────────┘
```

## 9. Error Handling Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│User Action  │────►│Try Operation│────►│Success Path │
└─────────────┘     └──────┬──────┘     └─────────────┘
                          │
                          │ (If error occurs)
                          ▼
                    ┌─────────────┐     ┌─────────────┐
                    │Catch Error  │────►│Display Error│
                    └──────┬──────┘     └─────────────┘
                          │
                          │
                          ▼
                    ┌─────────────┐     ┌─────────────┐
                    │Fallback Path│────►│Recovery Act.│
                    └─────────────┘     └─────────────┘
```

## 10. Environment Configuration Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│App Startup  │────►│Load Env Vars│────►│Check OAuth  │────►│Check DB Conn│
└─────────────┘     └─────────────┘     └─────────────┘     └──────┬──────┘
                                                                   │
                                                                   │
                                                                   ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│Start App UI │◄────┤Init Session │◄────┤Setup Logging│◄────┤Init Fallback│
└─────────────┘     └─────────────┘     └─────────────┘     │Mechanisms   │
                                                           └─────────────┘
```